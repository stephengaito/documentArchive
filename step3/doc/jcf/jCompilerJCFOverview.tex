% A ConTeXt document [master document: ../jCompiler.tex ]

\subsection[title=Overview]

Our \quote{\joylol\ Configuration Language}, \joylolCF, is loosely based 
upon the \quote{Language for assembling classes in Eiffel} (Lace) 
(\cite{meyer1992eiffelTheLanguage} Appendix D).

Since a specific \joylol\ artefact is \quote{built} out of a large 
collection of inter-dependent individual \joylol\ CoAlgebras, the primary 
concern of the \joylolCF\ is to specify which particular implementations 
of these CoAlgebras, are to be used in a given \joylol\ artefact.

A system is composed from clusters of CoAlgebras.

\startJoylol
CoAlgebra System

creation
  parseSystem ;

feature -- Abstract Syntax
  systemName : Name;
  defaults   : Defaults; 
  clusters   : Clusters;
  externals  : Externals
  generation : Generation;
  
feature -- Concrete Syntax
  parseSystem(aCtx : Context) : System is
    beginSExp
      "system" P
      ( parseName ) capture asName
      ( parseDefaults ) capture asDefaults
      ( parseClusters ) capture asClusters
      ( parseExternals ) capture asExternals
      ( parseGeneration ) capture asGeneration
      "endSystem" P "--" P ( parseName ) capture isName
    endSExp -- parseSystem ;
  
endCoAlgebra -- System

CoAlgebra Defaults

creation
  parseDefaults ; 

feature -- Abstract Syntax
  optionTag  : OptionTag ;
  optionMark : OptionMark ;
  targetList : Targets ;
  
feature -- Concrete Syntax
  parseDefaults(aCtx : Context) : Defaults is
    beginSExp
      "default" P 
      ( ( parseOptionClause ";" P ) + )
    endSExp -- parseDefaults ;

endCoAlgebra -- Defaults

CoAlgebra OptionTag

creation
  parseOptionTag ;
  
feature -- Abstract Syntax

feature -- Concrete Syntax
  parseOptionTag(aCtx : Context ) : OptionTag is
    beginSExp
      
    endSExp -- parseOptionTag

endCoAlgebra -- OptionTag

CoAlgebra StandardValue

inherit
  OptionTag ;

creation
  parseStandardValue ;
  
feature -- Abstract Syntax

feature -- Concrete Syntax

endCoAlgebra -- StandardValue

CoAlgebra StandardValueYes

inherit
  StandardValue ; 

creation
  parseStandardValueYes ;
  
feature -- Abstract Syntax

feature -- Concrete Syntax
  parseStandardValueYes(aCtx : Context) : StandardValueYes is
    beginSExp
      "yes" P
    endSExp -- parseStandardValueYes
  
endCoAlgebra -- StandardValueYes

CoAlgebra StandardValueNo

inherit
  StandardValue ; 

creation
  parseStandardValueNo ;
  
feature -- Abstract Syntax

feature -- Concrete Syntax
  parseStandardValueNo(aCtx : Context) : StandardValueNo is
    beginSExp
      "no" P
    endSExp -- parseStandardValueNo
  
endCoAlgebra -- StandardValueNo

CoAlgebra StandardValueAll

inherit
  StandardValue ; 

creation
  parseStandardValueAll ;
  
feature -- Abstract Syntax

feature -- Concrete Syntax
  parseStandardValueAll(aCtx : Context) : StandardValueAll is
    beginSExp
      "all" P
    endSExp -- parseStandardValueAll
  
endCoAlgebra -- StandardValueAll



\stopJoylol

