% A ConTeXt document [master document: joyLoLMinus.tex ]

\section[title=ANSI-C Main]

\startCCode
void interpretFile(const char* aFilePath) {
}

void firstCFunction(Context *aCtx){};
Context *secondCtxCFunction(Context *aCtx){ return aCtx; };

int main(int argc, char *argv[]){
  printf("joylolMinus\n");

  for(int i = 1; i < argc; i++) {
    printf("interpreting: [%s]\n", argv[i]);
    interpretFile(argv[i]);
  }
  printf("testing symbolTable\n");
  
  SymbolTable *symTab = newSymbolTable();
  
  printf("SymbolTable before:\n");
  printTableToFile(symTab, stdout, "  symTabBefore");

  Pair *thirdPair = newPair(NULL, NULL);  
  insertSymbol(symTab, "third", asJObj(thirdPair));
  Context *aTestCtx = newContext(NULL, NULL);
  insertSymbol(symTab, "aTest", asJObj(aTestCtx));
  registerCFunction(symTab, "first", firstCFunction);
  registerCtxCFunction(symTab, "second", secondCtxCFunction);
  insertSymbol(symTab, "second", NULL);
//  deleteSymbol(symTab, "aTest");
//  deleteSymbol(symTab, "third");
  
  printf("SymbolTable after:\n");
  printTableToFile(symTab, stdout, "   symTabAfter");
  printf("done!\n");
}
\stopCCode
