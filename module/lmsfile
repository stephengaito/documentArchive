-- A Lua Make System file

lfs = require 'lfs'

lfs.mkdir('build')
lfs.mkdir('build/joyLoL')
lfs.mkdir('build/joyLoLMinLua')

require 'lms.litProgs'

litProgs.targets{
  mainDoc  = 'joyLoLCoAlg.tex',
  docFiles = {
    'overview.tex',
    'codeManipulation.tex',
    'lmsfile.tex',
    'preamble.tex',
    'conclusion.tex',
  },
  srcFiles = {
    't-joylol-coalg.mkiv',
    't-joylol-coalg.lua',
    't-joylol-coalg-templates.lua',
    'joyLoLMinLua/joyLoL.lua',
    'joyLoLMinLua/prettyPrint.lua',
  },
  buildDir  = 'build',
  docDir    = 't-joylol-coalg/doc/context/third/joyLoLCoAlg',
  moduleDir = 't-joylol-coalg/tex/context/third/joyLoLCoAlg',
}

target{'doc',     docTargets}
target{'diff',    diffTargets}
target{'install', installTargets}
target{'default', buildTargets}