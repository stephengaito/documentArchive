% A ConTeXt document [master document: ../joyLoL.tex]

\startJoyLoLCoAlg[title=Memory blocks][memory]

\startsection[title=Goals]

The memory extension provides a first class JoyLoL implementation of 
\quote{memory}. A memory block has:

\startitemize

\item a size

\item an item size

\item a next item

\item a full indicator

\stopitemize

Things you can do with a memory block:

\startitemize

\item get a new item

\item get a new block


\startJFrame

I suggest we use [generational garbage 
collection](http://wiki.c2.com/?GenerationalGarbageCollection) together 
with immutable objects so that objects in more recent "heaps" can only 
point to older "heaps" and not visa versa. This means that, if the 
individual "heaps" are first class Lua objects, then we can use the 
finalization of the heap object to ["stop and 
copy"](http://wiki.c2.com/?StopAndCopy) live JoyLoL objects into older 
heaps just before the newer heap is reclaimed by the Lua GC. Essentially 
we are letting the Lua GC drive the JoyLoL GC. 

\stopJFrame

%\startsyntax

%\stopsyntax 

%\startinitialization

%\stopinitialization

\stopJoyLoLCoAlg
