-- A Lunatest Lua file

local pp     = require('pl.pretty')
local lt     = dofile('./languages/joyLoL/build/tests/lunatest.lua')
local joyLoL = dofile('./languages/joyLoL/build/tests/joyLoL.lua')


function test_nextWord()
  local aCtx = joyLoL.newContext()
  -- If we parse a string then the first word is on top
  -- and the rest of the string is below
  --
  joyLoL.pushData(aCtx, "test")
  joyLoL.nextWord(aCtx)
  lt.assert_equal('test', aCtx.data[1])
  lt.assert_equal('',     aCtx.data[2])
  --
  aCtx = joyLoL.newContext()
  joyLoL.pushData(aCtx, "this is a test")
  joyLoL.nextWord(aCtx)
  lt.assert_equal('this',       aCtx.data[1])
  lt.assert_equal(' is a test', aCtx.data[2])
  
  --joyLoL.pushData(aCtx, {})
  --joyLoL.nextWord(aCtx)
  --print(pp.write(aCtx))
end

function off_test_evalString()
  print(pp.write(joyLoL.evalString('test')))
end

lt.run()